# 完成事项</font>
+ 打了ISCTF
# 下周待做事项</font>
+ 复习高数线代
+ 复习c语言
# 本周学习总结</font>
+ 本周我把总结放前面了,因为ISCTF坐了一周牢让我认识到很多事
+ 首先是misc,我本来以为其实就是单纯的脑筋急转弯,只要会一些基本的规律就能搞出来
+ 但是我才发现我错了,所谓杂项,考验的其实是综合能力,5个方向都要会一些才能做好杂项,所以我们的杂项很多都是一块研究的,除非队伍里有人就是各种方向都会,不然杂项就不是一个人的事
+ 我们队伍薄弱主要就在杂项做不出来,白了一大片
+ 以后不能再这么懈怠杂项的学习了,寒假每天2道杂项题吧
+ 逆向工程不是简单的静态算法分析,更是对程序结构的分析,对运行规律的研究,对未知内容的猜测与验证
+ 前几周除了个别的几道题,我一直在研究算法理解,以为把这些看会了就没事了,但是在打比赛题的过程中才发现真正让我束手束脚的是各种预处理和调试工具的使用
+ 遇到的问题很多,版本错误,工具损坏(?),运行报错,环境失效,而且经过很久的摸索之后我才发现新生群里给的"逆向工具包"有多到位
+ (如果可以的话我好想重新看一遍指北啊)
# 本周知识分享</font>
## ezpy
+ 算是为数不多对我有很大用处的题吧
+ 可能你会说"这类题新生赛不是已经给过典型题目了吗,你怎么还跟做新题一样,你是肺雾吗?!"
+ 不过我当时确实没有学逆向的打算,所以这道题其实没做,不过我晚自习看见uky在配环境,所以才知道有这回事
+ 言归正传,这道题让我认识到了py逆向的基本方法,进一步明确了简单程序的结构
+ 首先,这道题是用c语言驱动py程序启动,所以文件被打包成了exe(关联启动)
+ 想解包我们也要用打包工具PyInstaller,下载之后把目标文件和下载在的内容放在一个文件夹里
+ 命令为py PyInstaller.py 目标.xx
+ 然后就能得到一个文件夹,这个时候我们其实就能把它们当成等效于一般程序分析时ida左边的东西了
+ 依旧是找主程序,一般来说就是main,或者和题目文件名一样
+ 反编译之后接着仍是ida流程,找调用函数/数据,在文件夹里找到同名文件,进行反编译读内容
+ 接下来就完全是普通的分析流程了
+ 这b题折磨了我整整两天,原因非常绷不住
+ 我在反编译时遇见了版本问题,沙雕ai给我不说清楚,我以为是我自己py版本不对,搁那研究半天
+ (羡慕他们能用Gemini的每一天😭😭😭)
+ 最后才发现是人家本身程序版本就和uncompyle不兼容,必须用线上反编译工具
+ 但这种脚本小子行径称心快意,我怎会想不到?我第一遍失败就去找网站了
+ 但是不行啊,没用啊,它说文件无效啊!我找了好几家都不给我反编译,真没招了!!!
```
方案四：等待工具更新（现实选择）
Python 3.13 于 2024 年 10 月发布，反编译工具链滞后 3-6 个月是常态。
当前时间点（2025 年 12 月），本地工具可能仍未完全支持 3.13。
💡 一句话总结
在线工具是唯一解。如果所有网站都不可用，这道 CTF 题可能超出了当前工具能力范围，建议换题或等待更新。
// 求我当时看见这句话的心理阴影面积
```
+ 最后我实在绷不住了,第三天晚上求助高人给我一个反编译网站,高人确实给了
+ 我打开一看,这不我试过的那个吗???
+ 我当时也就想着死马当活马医,拖进去再看看得了
+ .......这回就行了,也不报错了,也不说我文件损坏了,啥问题都没了,何意味啊,我见鬼了吗???
+ https://pylingual.io/
## ez_XTEA
+ 这道题也是让我受益匪浅,嗯...倒不如说又和我之前想过的一种可能重合了
+ 我也想过会不会有这样的题----
+ 它进行了一种特殊的自加密,我们在分析程序时无法窥得它的全貌,但是它在运行的过程中会解包自己,我们可以在那一瞬间截下它,来获得它的源程序
+ 真的有,esp脱壳定律
+ ESP定律利用了壳代码必须恢复原始程序执行环境这一强制要求，通过监控堆栈指针的恢复操作，精准定位壳代码到原始代码的切换点。虽然对现代强壳效果有限，但仍是学习脱壳原理的基础技术，体现了逆向工程中"利用必然行为特征"的重要思路
+ 它的原理基本和我想的差不多,我们需要利用陷阱点得到解包完成的程序,找到OEP(原始程序入口点)
```
 第一步：下断点
 用Olly或x32,x64(我的64打不开!)甚至IDA加载加壳程序

在命令行执行：hr esp-4 或 hr esp（硬件访问断点）

对ESP指向的地址设硬件写入/访问断点(ai说是访问,我的访问断点不停,会先停在系统领空,再运行一次直接飞完了,然后我改成写入就解决了,所以这么写)

此时ESP指向的是返回地址相关位置

第二步：运行程序
按F9运行，程序会在壳代码操作堆栈时中断
如果掉在系统领空应该是你设置里系统断点没关(比如我)

第三步：识别关键跳转
当程序中断在类似以下代码时：

POPAD                    ; 恢复所有通用寄存器
JMP EAX                  ; 或 JMP OEP
或

LEAVE                    ; 恢复堆栈帧
RET                      ; 返回到OEP
第四步：到达OEP
单步（F7/F8）跟踪，最终会到达OEP

OEP特征：

通常是 PUSH EBP、MOV EBP, ESP

代码段呈现正常程序的模式
```
+ 这里用IDA甚至更简单,可以直接再return运行得到源程序
+ 不过由于当时花指令的存在,导致我以为我脱壳失败了,所以跟sb一样在x32里又搞了一次
+ Dump出来之后发现还是一样的
+ 不过这个时候我搞了一只要花钱,还不太稳定的Gemini,稍微问了问我才知道这是花指令
+ 也就是说其实第一次IDA脱出来就已经对了...wssb
+ 这里顺便还能和我上一周的周报联系一下,那个Dump,我本来以为只要改数据然后运行这点用,现在看来,嗯~
+ 顺带一提,我发现是花指令之后就试着让ai接mcp做一下了,deepseek分析了大半之后宕机了,不过Gemini好像可以自己除(拷打deepseek了),不过我最终还是没接mcp让哈基米做
+ 因为我善(qiong)
# 杂项</font>
+ 大概就这么点了,打了一周比赛,到底还是用的比学的多,之前学的很多东西都用进去了,学的东西确实不多,算是一头栽地里找不到路导致的,好坐牢啊
+ 持续爆零中...