# 3.17~3.23 WEEK4

## 概况

本周主要学习了c和python



## 1. [NOIP 1998 普及组] 阶乘之和

### 题目描述

用高精度计算出 $S = 1!+2!+3!+⋯+*n*!（*n*≤50）。

其中 `!` 表示阶乘，定义为 *n*!=*n*×(*n*−1)×(*n*−2)×⋯×1。例如，5!=5×4×3×2×1=120。

## 输入格式

一个正整数 n。

## 输出格式

一个正整数 S，表示计算结果。

### 输入输出样例 

输入 

```
3
```

输出 

```
9
```

### 说明/提示

**【数据范围】**

对于 100 % 的数据，1≤*n*≤50。

### 具体代码

```python
import math

n=int(input())
res=0
for i in range(1,n+1):
    res=res+math.factorial(i)
print(res)
```



## 2.[NOIP 2003 普及组] 乒乓球

### 题目背景

国际乒联现在主席沙拉拉自从上任以来就立志于推行一系列改革，以推动乒乓球运动在全球的普及。其中11分制改革引起了很大的争议，有一部分球员因为无法适应新规则只能选择退役。华华就是其中一位，他退役之后走上了乒乓球研究工作，意图弄明白 11 分制和 21 分制对选手的不同影响。在开展他的研究之前，他首先需要对他多年比赛的统计数据进行一些分析，所以需要你的帮忙。

### 题目描述

华华通过以下方式进行分析，首先将比赛每个球的胜负列成一张表，然后分别计算在 $11$ 分制和 21 分制下，双方的比赛结果（截至记录末尾）。

比如现在有这么一份记录，其中 W 表示华华获得一分，L 表示华华对手获得一分）：

WWWWWWWWWWWWWWWWWWWWWWLW

在 11 分制下，此时比赛的结果是华华第一局 11 比 0 获胜，第二局 11 比 0 获胜，正在进行第三局，当前比分 1 比 1。而在 21 分制下，此时比赛结果是华华第一局 21 比 0 获胜，正在进行第二局，比分 2 比 1。如果一局比赛刚开始，则此时比分为 0 比 0。直到分差大于或者等于 2，才一局结束。

**注意：当一局比赛结束后，下一局立刻开始**。

你的程序就是要对于一系列比赛信息的输入（WL 形式），输出正确的结果。

### 输入格式

每个输入文件包含若干行字符串，字符串由大写的 W 、 L 和 E 组成。其中 E 表示比赛信息结束，程序应该忽略 E 之后的所有内容。

### 输出格式

输出由两部分组成，每部分有若干行，每一行对应一局比赛的比分（按比赛信息输入顺序）。其中第一部分是 11 分制下的结果，第二部分是 21 分制下的结果，两部分之间由一个空行分隔。

### 输入输出样例 

输入

```
WWWWWWWWWWWWWWWWWWWW
WWLWE
```

输出 

```
11:0
11:0
1:1

21:0
2:1
```

### 说明/提示

每行至多 25 个字母，最多有 2500 行。

（注：事实上有一个测试点有 2501 行数据。）

### 具体代码

```python
#输入数据，并将E之后的字符进行截断，不予理会
score =''
while 1:
    score+=input().strip()
    if "E" in score:
        score=score[:score.find("E")+1]
        break

#初始化比分
w=0
l=0
#11分制比分
for char in score:
    if char=='W':
        w+=1
    if char=='L':
        l+=1
    if char=='E':
        print(f'{w}:{l}')
    if(w>=11 and w-l>=2) or (l>=11 and l-w>=2): #判断当前局是否可以结束
        print(f'{w}:{l}')
        w=0
        l=0 
print() 

#初始化比分（如果不进行初始化，11分制的比分会被累计）
w=0
l=0
#21分制比分
for char in score:
    if char=='W':
        w+=1
    if char=='L':
        l+=1
    if char=='E':
        print(f'{w}:{l}')
    if(w>=21 and w-l>=2) or (l>=21 and l-w>=2):
        print(f'{w}:{l}')
        w=0
        l=0
```



## 3.欢乐的跳

### 题目描述

一个 *n* 个元素的整数数组，如果数组两个连续元素之间差的绝对值包括了 [1,*n*−1] 之间的所有整数，则称之符合“欢乐的跳”，如数组 {1,4,2,3} 符合“欢乐的跳”，因为差的绝对值分别为：3,2,1。

给定一个数组，你的任务是判断该数组是否符合“欢乐的跳”。

### 输入格式

每组测试数据第一行以一个整数 *n*(1≤*n*≤1000) 开始，接下来 *n* 个空格隔开的在 [−108,108] 之间的整数。

### 输出格式

对于每组测试数据，输出一行若该数组符合“欢乐的跳”则输出 `Jolly`，否则输出 `Not jolly`。

### 输入输出样例 

输入 

```
5 1 4 2 3
```

输出 

```
Jolly
```

### 输入输出样例 

输入 

```
5 1 4 2 -1 6
```

输出 

```
Not jolly
```

### 说明/提示

1≤*n*≤1000

### 具体代码

```python
num=input()
nums=[int(n) for n in num.split()] #将输入的数生成列表
n=len(nums) #求数组的长度n

if n ==1:
    print('Jolly')
    exit()

dfr=[abs(nums[i]-nums[i+1]) for i in range(0,n-1)]
wdfr=set(range(1,n))
#range生成的是序列，不能和列表进行比较
if set(dfr)==wdfr:
    print('Jolly')
else:
    print('Not Jolly')
```

